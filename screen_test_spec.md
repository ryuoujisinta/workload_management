# 画面テスト仕様書

この文書では、工数管理アプリの画面遷移とフォーム処理を検証するテスト項目をまとめます。現在は Flask テストクライアントによるルートテストが中心ですが、将来的には Selenium を用いたブラウザテストの追加を想定しています。

## テスト環境
- Python 3.11
- Flask 3.1
- pytest 8 系
- テストデータは一時ディレクトリに保存

## テスト対象画面
| 画面 | URL |
| --- | --- |
| ログイン | `/` |
| ユーザー登録 | `/register` |
| タスク登録 | `/tasks` |
| 工数登録 | `/workloads` |

## 画面別テスト項目

### ログイン画面
1. **表示確認**  
   GET `/` を実行しステータス 200 かつページに「ログイン」の文字列が含まれること。
2. **ログイン処理**  
   ユーザー名とパスワードを送信した場合に `/workloads` へリダイレクトされること。

### ユーザー登録画面
1. **表示確認**  
   GET `/register` が 200 を返し、「ユーザー登録」が表示されること。
2. **登録処理**  
   フォーム送信後 `users.json` にユーザーが保存され、トップページへリダイレクトされること。

### タスク登録画面
1. **表示確認**  
   GET `/tasks` の結果が 200 で「タスク登録」が表示されること。
2. **登録処理**  
   POST で送信したタスクが `tasks.json` に保存されること。

### 工数登録画面
1. **表示確認**  
   GET `/workloads` の結果が 200 で、7 日分の日付ヘッダーが表示されること。
2. **タスク表示**  
   事前登録されたタスク名がテーブルに表示されること。
3. **POST 処理 (未実装)**  
   実装後は入力値が所定のファイルに保存されることを確認する。

## 今後の拡張・検討事項
- Selenium を使ったリンク遷移や入力エラー表示の E2E テストを追加する。
- 権限チェックや入力バリデーションなど、異常系のテストケースを充実させる。
