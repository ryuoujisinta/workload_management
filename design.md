# 工数管理アプリ 設計書

## 概要

このドキュメントでは、工数管理アプリの基本設計について説明します。アプリはブラウザ上で動作し、工数やタスクはファイルに保存されます。管理者はすべてのユーザーの工数を閲覧・承認できます。

## 画面一覧

1. **ログイン画面**
2. **ユーザー登録画面**
3. **タスク登録画面（管理者のみ）**
4. **工数登録画面**

## 各画面の説明

### 1. ログイン画面
- ユーザー名、パスワードを入力しログインします。
- 新規ユーザーはユーザー登録画面へのリンクを使用します。

### 2. ユーザー登録画面
- ユーザー名、パスワード、権限（一般/管理者）を入力して登録します。
- 登録情報はユーザーファイルに保存します。

### 3. タスク登録画面（管理者のみ）
- タスク名、説明を登録します。
- タスク情報はタスクファイルに保存します。

### 4. 工数登録画面
- 横軸に日付（1週間分）、縦軸にタスクを表示します。
- ユーザーは各セルにその日の工数を入力します。
- 登録後、管理者が承認するまでステータスは "未承認" として扱います。

## 工数表示と承認
- 工数は1週単位で表示し、管理者はすべてのユーザー分を閲覧できます。
- 管理者は未承認の工数を承認・却下することができます。

## データ管理
- **ユーザーファイル**: 登録されたユーザー情報を保存します。
- **タスクファイル**: 管理者が登録したタスク情報を保存します。
- **工数ファイル**: 各ユーザーの週ごとの工数データと承認ステータスを保存します。

## 使用言語

- バックエンド: Python 3.x (Flask)
- フロントエンド: HTML5, CSS, JavaScript
- データ保存: JSON ファイル

## ファイル構成 (例)

```
workload_management/
├─ app/
│  ├─ templates/
│  │  ├─ login.html
│  │  ├─ register.html
│  │  ├─ tasks.html
│  │  └─ workloads.html
│  ├─ static/
│  │  └─ styles.css
│  ├─ models.py
│  └─ routes.py
├─ data/
│  ├─ users.json
│  ├─ tasks.json
│  └─ workloads/
├─ run.py
├─ design.md
├─ README.md
└─ requirements.txt
```

## テスト方針

- ユニットテスト: Flaskの各ルートやデータ処理関数をpytestでテストします。
- エンドツーエンドテスト: Seleniumを使用してブラウザ操作を自動化し、画面遷移と入力を検証します。
- 手動テスト: 実際のブラウザで動作確認を行い、権限による画面表示やファイル出力をチェックします。
